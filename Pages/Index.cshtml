@page
@model videoscriptAI.Pages.IndexModel
@{
    ViewData["Title"] = "Home";
    var isAuthenticated = User.Identity?.IsAuthenticated ?? false;
}

<div class="text-center">
    @if (isAuthenticated)
    {
        <h1 class="display-4">Benvenuto, @User.Identity.Name!</h1>
        <p class="lead">Inizia una chat con Gemini caricando un video o inserendo un link YouTube.</p>
        <form asp-page="/Chat" method="post" enctype="multipart/form-data" class="mt-4">
            <div class="mb-3">
                <label for="videoFile" class="form-label">Carica un video MP4</label>
                <input type="file" class="form-control" id="videoFile" name="videoFile" accept="video/mp4">
            </div>
            <div class="mb-3">
                <label for="youtubeLink" class="form-label">Oppure inserisci un link YouTube</label>
                <input type="url" class="form-control" id="youtubeLink" name="youtubeLink" placeholder="https://youtube.com/...">
            </div>
            <button type="submit" class="btn btn-dark w-100">Invia</button>
        </form>
    }
    else
    {
        <h1 class="display-4">Benvenuto in VideoScriptAI!</h1>
        <p class="lead">Per iniziare, registrati o accedi con il tuo account.</p>
        <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-dark me-2">Registrati</a>
        <a asp-area="Identity" asp-page="/Account/Login" class="btn btn-outline-dark">Accedi</a>
    }
</div>